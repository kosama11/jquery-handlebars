!function(a,b){a.fn.extend({handlebars:function(j,m,n,o){var p=a(this).first(),q="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",r=RegExp("^#"+q+"$"),s=f(m)&&r.test(m);if(!f(j)||e(j))return this;if(/^FIND|GET$/i.test(j))return g(p,m,s);if(/^COMPILED|STORE$/i.test(j))return c;if(o=a.extend({},a.fn.handlebars.options,o),f(o.type)&&/^APPEND|COMPILED|RAW$/i.test(o.type)?o.type=o.type.toUpperCase():o.type=l.APPEND,f(o.remove_type)&&/^ALL|NONE|SAME$/i.test(o.remove_type)?o.remove_type=o.remove_type.toUpperCase():o.remove_type=k.NONE,/^CLEAR|EMPTY|REMOVE$/i.test(j))return o=a.extend(o,n),s&&o.remove_type!==k.SAME?o.remove_type=k.SAME:o.remove_type=k.ALL,s||(m=null),h(this,p,m,o);if(d(o.validate)&&o.validate&&a.isEmptyObject(n))return this;var t=null;if(s){if(a.isFunction(c[m]))return i(this,p,m,n,o);t=a(m).first(),0===t.length&&(t=null)}else if(m instanceof a&&a.isNumeric(m.length)&&m.length>0&&(t=m.first(),m=t.selector!==b?t.selector:null,a.isFunction(c[m])))return i(this,p,m,n,o);if(null===t||null===m||0===t.length)return this;var u=t.html();return c[m]=Handlebars.compile(u),i(this,p,m,n,o)}});var c={},d=function(b){return"boolean"===a.type(b)},e=function(a){return f(a)&&0===a.length},f=function(b){return"string"===a.type(b)},g=function(a,b,c){var d=c&&b?'="'+b+'"':"";return a.find("div["+j+d+"]")},h=function(e,f,h,i){if(i.remove_type===k.NONE||null===h&&i.remove_type===k.SAME)return e;var l=g(f,h,i.remove_type===k.SAME);return 0===l.length?e:(l.remove(),d(i.delete_compiled)&&i.delete_compiled&&a.each(l,function(){var d=a(this).attr(j);null!==d&&c[d]!==b&&(c[d]=b)}),b)},i=function(b,e,f,h,i){var m=g(e,f,i.remove_type===k.SAME);if(i.remove_type!==k.NONE&&m.remove(),d(i.refill)&&!i.refill&&(m=g(e,f,!0),m.length>0))return b;switch(i.type){case l.COMPILED:case l.RAW:return c[f](h);default:var n=a("<div/>").attr(j,f).append(c[f](h));e.append(n)}return b},j="data-jquery-handlebars",k={ALL:"ALL",NONE:"NONE",SAME:"SAME"},l={APPEND:"APPEND",COMPILED:"COMPILED",RAW:"RAW"};a.fn.handlebars.options={delete_compiled:!0,refill:!0,remove_type:k.NONE,type:l.APPEND,validate:!0}}(jQuery);