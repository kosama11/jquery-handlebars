!function(a,b){a.fn.extend({handlebars:function(g,j,k,l){var m=a(this).first(),n="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",o=RegExp("^#"+n+"$");if(isTemplate="string"==typeof j&&o.test(j),"string"==typeof g){if(/^FIND|GET$/i.test(g))return d(m,j,isTemplate);if(/^COMPILED$/i.test(g))return c}if(l=a.extend({},a.fn.handlebars.options,l),"string"==typeof l.type&&/^APPEND|COMPILED|RAW$/i.test(l.type)?l.type=l.type.toUpperCase():l.type=i.APPEND,"string"==typeof l.remove_type&&/^ALL|NONE|SAME$/i.test(l.remove_type)?l.remove_type=l.remove_type.toUpperCase():l.remove_type=h.NONE,/^CLEAR|EMPTY|REMOVE$/i.test(g))return l=a.extend(l,k),isTemplate&&l.remove_type!==h.SAME?l.remove_type=h.SAME:l.remove_type=h.ALL,isTemplate||(j=null),e(this,m,j,l);if("boolean"==typeof l.validate&&l.validate&&a.isEmptyObject(k))return this;var p=null;if(isTemplate){if("function"==typeof c[j])return f(this,m,j,k,l);p=a(j).first(),0===p.length&&(p=null)}else if(j instanceof a&&"number"==typeof j.length&&j.length>0&&(p=j.first(),j=b!==p.selector?p.selector:null,null!==j&&"function"==typeof c[j]))return f(this,m,j,k,l);if(null===p||null===j||0===p.length)return this;var q=p.html();return c[j]=Handlebars.compile(q),f(this,m,j,k,l)}});var c={},d=function(a,b,c){var d=c&&b?'="'+b+'"':"";return a.find("div["+g+d+"]")},e=function(e,f,i,j){if(j.remove_type===h.NONE||null===i&&j.remove_type===h.SAME)return e;var k=d(f,i,j.remove_type===h.SAME);return 0===k.length?e:(k.remove(),"boolean"==typeof j.delete_compiled&&j.delete_compiled&&a.each(k,function(){var d=a(this).attr(g);null!==d&&c[d]!==b&&(c[d]=b)}),b)},f=function(b,e,f,j,k){var l=d(e,f,k.remove_type===h.SAME);if(k.remove_type!==h.NONE&&l.remove(),"boolean"==typeof k.refill&&!k.refill&&(l=d(e,f,!0),l.length>0))return b;switch(k.type){case i.COMPILED:case i.RAW:return c[f](j);default:var m=a("<div/>").attr(g,f).append(c[f](j));e.append(m)}return b},g="data-jquery-handlebars",h={ALL:"ALL",NONE:"NONE",SAME:"SAME"},i={APPEND:"APPEND",COMPILED:"COMPILED",RAW:"RAW"};a.fn.handlebars.options={delete_compiled:!0,refill:!0,remove_type:h.NONE,type:i.APPEND,validate:!0}}(jQuery);